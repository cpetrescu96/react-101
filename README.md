# –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–≠–ª–µ–º–µ–Ω—Ç—ã - —ç—Ç–æ —Å–∞–º—ã–µ –º–∞–ª–µ–Ω—å–∫–∏–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π React.

–≠–ª–µ–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ:

```jsx
const element = <h1>Hello, world</h1>;
```

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞, —ç–ª–µ–º–µ–Ω—Ç—ã React —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã JavaScript. `React DOM` –±–µ—Ä—ë—Ç –∑–∞–±–æ—Ç—É –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é DOM –Ω–∞ —Å–µ–±—è –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞–º React.

API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `react-dom/client` –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ —Å—Ä–µ–¥–µ DOM –±—Ä–∞—É–∑–µ—Ä–∞). –≠—Ç–∏ API –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∞—à–µ–≥–æ –¥–µ—Ä–µ–≤–∞ React.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ HTML –µ—Å—Ç—å `<div>`:

```jsx
<div id="root"></div>
```

–ú—ã –Ω–∞–∑—ã–≤–∞–µ–º —ç—Ç–æ ¬´–∫–æ—Ä–Ω–µ–≤—ã–º¬ª —É–∑–ª–æ–º DOM, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å—ë –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è `DOM React`.

–î–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ React –≤ –∫–æ—Ä–Ω–µ–≤–æ–º —É–∑–ª–µ DOM –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—Ç—å ReactDOMRoot –æ–±—ä–µ–∫—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ DOM –±—Ä–∞—É–∑–µ—Ä–∞:

```js
const root = ReactDOM.createRoot(domNode, options?);
```

–ú–µ—Ç–æ–¥ `ReactDOM.createRoot()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `Root`

```ts
export interface Root {
  render(children: React.ReactNode): void;
  unmount(): void;
}
```

–ö–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥ `render()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–∞—Å—Ç–∏ `JSX` —ç–ª–µ–º–µ–Ω—Ç–∞ (`React node`) –≤–Ω—É—Ç—Ä–∏ —É–∑–ª–∞ DOM –±—Ä–∞—É–∑–µ—Ä–∞:

```js
import { createRoot } from 'react-dom/client';

const root = createRoot(document.getElementById('root'));

root.render(<h1>Hello, React!</h1>);
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

React-—ç–ª–µ–º–µ–Ω—Ç—ã - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã (Immutable). –°–æ–∑–¥–∞–≤ –æ–¥–Ω–∞–∂–¥—ã —ç–ª–µ–º–µ–Ω—Ç, –≤—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–ª–∏ –∞—Ç—Ä–∏–±—É—Ç—ã. –≠–ª–µ–º–µ–Ω—Ç –ø–æ—Ö–æ–∂ –Ω–∞ –æ–¥–∏–Ω –∫–∞–¥—Ä –≤ —Ñ–∏–ª—å–º–µ: –æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –≤ –º–µ—Ç–æ–¥ `render()`.

```jsx
import { createRoot } from 'react-dom/client';

const root = createRoot(document.getElementById('root'));

const tick = () => {
  const element = (
    <div>
      <h1>–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!</h1>
      <h2>–°–µ–π—á–∞—Å {new Date().toLocaleTimeString()}.</h2>
    </div>
  );

  root.render(element);
};

setInterval(tick, 1000);
```

DOM React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏ –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è DOM –≤ –∂–µ–ª–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –º—ã —Å–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –≤—Å—ë –¥–µ—Ä–µ–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —Ç–∏–∫–µ, —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —É–∑–µ–ª, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ DOM React.

<img src="./public/granular-dom-updates.gif">

### Virtual DOM (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤)

Virtual DOM (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤) - —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö JavaScript.

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è Virtual DOM –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (DOM), –∏ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —ç—Ç–æ–º –¥–µ—Ä–µ–≤–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ –≤—Å–µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

<img src="./public/virtual-dom.webp">

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —è–≤–ª—è–µ—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ JavaScript, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–π —Å–æ–±–æ–π –∫–æ–ø–∏—é —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM –≤ –ø–∞–º—è—Ç–∏. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ä—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–∞–∑–Ω–∏—Ü–∞ –∏ —Ç–æ–ª—å–∫–æ —Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω–µ—Å–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω—ã–π DOM, –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á–∞—Å—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

- üîó [React Fiber Architecture (2016)](https://github.com/acdlite/react-fiber-architecture)
- üîó [React - Basic Theoretical Concepts (2016)](https://github.com/reactjs/react-basic)

### React UI tree

React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –≤–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. React —Å–æ–∑–¥–∞–µ—Ç `UI tree` –∏–∑ –≤–∞—à–µ–≥–æ JSX. –ó–∞—Ç–µ–º React DOM –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã DOM –±—Ä–∞—É–∑–µ—Ä–∞, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —ç—Ç–æ–º—É `UI tree`.

<img src="./public/preserving_state_dom_tree.webp">

–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, React —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º O(n), –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –¥–≤—É—Ö –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è—Ö:

- –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤. React –Ω–µ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è —Å—Ä–∞–≤–Ω–∏—Ç—å –∏—Ö, –∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏—Ç —Å—Ç–∞—Ä–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é .
- –†–∞–∑–ª–∏—á–∏–µ —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–π (keys). –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏¬ª.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ–º–µ:

- üîó [Preserving and Resetting State - –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Dom tree](https://react.dev/learn/preserving-and-resetting-state)

**[‚¨Ü Back to Top](#–æ—Ç—Ä–∏—Å–æ–≤–∫–∞-—ç–ª–µ–º–µ–Ω—Ç–æ–≤)**

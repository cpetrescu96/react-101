# Работа с формами - обзор библиотеки React Hook Form

### Особенности библиотеки React Hook Form

**React Hook Form** - это библиотека для управления формами в React, которая позволяет легко управлять состоянием формы
и работать с данными формы. Она предоставляет простой, быстрый и мощный способ создания форм, облегчая процесс валидации
полей, обработки ошибок и отправки данных на сервер.

Ниже приведены основные особенности **React Hook Form**:

- Создана с учетом производительности, UX и DX;
- Поддержка нативной браузерной HTML валидации;
- Поддержка интеграции с библиотеками пользовательского интерфейса (UI libraries) "из коробки";
- Маленький размер библиотеки и отсутствие зависимостей;
- Поддержка валидации с помощью Yup, Zod, AJV, Superstruct, Joi и прочих реализаций;

### Установка React Hook Form

Для установки React Hook Form (далее просто `react-hook-form`) требуется всего одна команда, и все готово:

```shell
npm install react-hook-form
```

### Знакомство с хуком useForm - `register()`, `handleSubmit()`

Для того что бы начать работу с `react-hook-form`, нужно вызвать хук `useForm()`, который используется для создания
формы и её связывания с пользовательскими элементами управления, например `<input>`, `<select>`, `<textarea>`.

Хук `useForm()` возвращает объект, содержащий свойства и методы, ниже приведен список некоторых из них:

- `register()` - функция для регистрации полей формы, на которые ссылаются ссылки (`ref`).
- `handleSubmit()` - функция, которая обрабатывает отправку формы и вызывает функцию, переданную в качестве аргумента, с
  данными формы.
- `setValue()` - функция, которая позволяет устанавливать значения для полей формы.
- `setError()` - функция, которая позволяет устанавливать сообщения об ошибках для определенных полей формы.
- `clearErrors()` - функция, удаляющая сообщения об ошибках для определенных полей или всех полей формы.
- `watch()` - функция, которая позволяет отслеживать изменения значений указанных полей или всех полей формы.
- `getValues()` - функция для получения значений полей формы.
- `trigger()` - функция для проверки и вызова валидации полей формы.
- `reset()` - функция для сброса полей формы к их начальному состоянию.
- `formState` - объект, содержащий информацию о состоянии формы, такую как `isDirty`, `isSubmitSuccessful`, `errors` и
  так
  далее.

Одной из ключевых концепций `react-hook-form` является регистрация вашего компонента в хуке. Это сделает его значение
доступным как для проверки формы, так и для отправки.

Следующий фрагмент кода демонстрирует базовый пример использования хука `useForm()` с регистрацией компонентов:

```jsx
import { useForm } from 'react-hook-form';

const MyForm = () => {
  const {register, handleSubmit} = useForm();

  const handleSubmitMyForm = (data) => {
    console.log(data);
  };

  const handleSubmitError = (errors) => {
    console.log(errors);
  }

  return (
    /* "handleSubmit" will validate your inputs before invoking "handleSubmitMyForm" */
    <form onSubmit={handleSubmit(handleSubmitMyForm, handleSubmitError)}>
      {/* register your input into the hook by invoking the "register" function */}
      <input {...register('username')} />
      {/* register your input into the hook by invoking the "register" function */}
      <input {...register('email')} />

      <button type="submit">Submit</button>
    </form>
  );
};
```

Для регистрации компонента формы используется функция `register()`, которая принимает имя поля в качестве аргумента.

`handleSubmit()` - это метод, который выполняет валидацию всех данных связанных с полями ввода. При успешной валидации,
метод `handleSubmit()` вызывает функцию `handleSubmitMyForm()` переданную в качестве аргумента и вся информация из формы
станет доступной в параметре `data`. Если валидация не проходит, то будет вызвана функция обработчик ошибок, которую
можно передать в качестве второго аргумента (необязательный аргумент) для метода `handleSubmit()`.
